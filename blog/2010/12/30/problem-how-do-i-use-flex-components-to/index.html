
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Problem: How Do I Use Flex Components to Make UI for an ActionScript Project? - liwanag</title>
  <meta name="author" content="nadine a.">

  
  <meta name="description" content="I&#8217;ve got an ActionScript project which already compiles into a SWF file of 600x400. So how do I add UI (buttons, etc.) to this? i.e. maybe &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.neauro.com/blog/2010/12/30/problem-how-do-i-use-flex-components-to">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="liwanag" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<!-- <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> -->
<link href="http://fonts.googleapis.com/css?family=Metrophobic:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-46467190-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">liwanag</a></h1>
  
    <h2>things i learn, things i like</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.neauro.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Problem: How Do I Use Flex Components to Make UI for an ActionScript Project?</h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-30T00:00:00-08:00" pubdate data-updated="true">Dec 30<span>th</span>, 2010</time>
        
      </p>
    
  </header>


<div class="entry-content"><div class='post'>
I&#8217;ve got an ActionScript project which already compiles into a SWF file of 600x400.  So how do I add UI (buttons, etc.) to this?  i.e. maybe import all the existing AS code into a Flex Project so I can use the fancy UI components?<br /><br />I near-immediately discovered the <strong>SWFLoader</strong>, which had a relatively promising name.  It&#8217;s a control that apparently &#8220;lets you load one application into another application.&#8221; You add the SWFLoader component, set its Source, and Flex will import the SWF file and run it.  SWFLoader can also load different types of images (jpg, png, etc.) but I think that the Image component is supposed to be better suited for that.<br /><br />Concerning design: an SWF that is loaded with an SWFLoader could be either a sub-application, or a module.  The difference is that a main application would load a sub-application, instead of embedding their functionality, which would mean a smaller initial download size and shorter load time for the main application.  This also means that you have better encapsulation of the functionality.<br /><br />In an application that is modular, the main application would load each form as a module using the <a href="http://help.adobe.com/en_US/FlashPlatform/reference/actionscript/3/mx/modules/ModuleManager.html">ModuleManager</a>, which maps URLs to modules, and dispatches events to communicate whether a module is in a loaded state or a not-yet-loaded state.<br /><br /><br /><strong>Loading a SWF file with SWFLoader</strong><br />So when I try putting the source of my SWFLoader as my other SWF file, I get some weird &#8220;Error #2032,&#8221; like this:<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/_SdPKamJbrgg/TR1jdV0LkEI/AAAAAAAAACk/nLyrh6xlNUA/s1600/fb_swfloader.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="201" src="http://4.bp.blogspot.com/_SdPKamJbrgg/TR1jdV0LkEI/AAAAAAAAACk/nLyrh6xlNUA/s320/fb_swfloader.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">why. &nbsp;why are you there</td></tr></tbody></table><br />But when I actually tried running, the embedded SWF showed up, so.  Not sure what&#8217;s going on there.  It seems that this is supposed to occur when the object is not found or null, but when I followed the link, I found the right (working) SWF&#8230;so. -shrug- Maybe it&#8217;s because my filepath contains spaces?<br /><br /><br /><strong>Making a Flex application work with an embedded SWF</strong><br />To use the variables and functions in a SWF that&#8217;s loaded in your application with a SWFLoader, you need to make sure of these things:<br /><ul><li>import <code>mx.managers.SystemManager</code></li><li>Make an instance of a SystemManager, i.e. something like <code>public var loadedSM:SystemManager</code></li><li>Make sure the SystemManger instance gets binded to the properties of the embedded SWF with an intializer function that contains a line like <code>loadedSM = SystemManager(<em>SWFLoaderID</em>.content)</code></li><li>Make sure that the <code>&lt;mx:SWFLoader&gt;</code> contains a <code>complete</code> property that will call the function that initializes the SystemManager</li></ul><br />That being said, here&#8217;s a sample for a simple &#8220;application&#8221; (such a big word for such a silly thing), where clicking on the button changes the text in the Label component:<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/_SdPKamJbrgg/TR2GLhWNZUI/AAAAAAAAACw/RoAFu9Gm1z8/s1600/fb_swfloader2.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="227" src="http://3.bp.blogspot.com/_SdPKamJbrgg/TR2GLhWNZUI/AAAAAAAAACw/RoAFu9Gm1z8/s320/fb_swfloader2.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">before clicking</td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"><br /></div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/_SdPKamJbrgg/TR2GSzaMWgI/AAAAAAAAAC0/hw_Zfw0Cyb4/s1600/fb_swfloader2_2.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="215" src="http://4.bp.blogspot.com/_SdPKamJbrgg/TR2GSzaMWgI/AAAAAAAAAC0/hw_Zfw0Cyb4/s320/fb_swfloader2_2.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">after clicking</td></tr></tbody></table><div class="separator" style="clear: both; text-align: center;"><br /></div><br /><em>Inner Application Code</em><br /><pre class="brush:js">&lt;?xml version="1.0" encoding="utf-8"?&gt;<br /><s:application minheight="600" minwidth="955" xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:mx="library://ns.adobe.com/flex/mx" xmlns:s="library://ns.adobe.com/flex/spark"><br /> <fx:script><br />  &lt;![CDATA[<br />   public function pressed():void <br />   {<br />    label.text = "Hi, embedded application!";<br />   }<br />  ]]&gt;<br /> </fx:script><br /><br /> <s:label fontfamily="Courier New" fontsize="30" id="label" text="I am a label." x="82" y="84"><br /> <s:button click="pressed()" label="Inner application button!!" x="261" y="196"><br /></s:button></s:label></s:application><br /></pre><br /><br />And here&#8217;s code for an outer application, which has a button that will change the text of the embedded SWF&#8217;s label:<br /><br /><em>Outer Application Code</em><br /><pre class="brush:js">&lt;?xml version="1.0" encoding="utf-8"?&gt;<br /><s:application minheight="600" minwidth="955" xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:mx="library://ns.adobe.com/flex/mx" xmlns:s="library://ns.adobe.com/flex/spark"><br /> <fx:script><br />  &lt;![CDATA[<br />   import mx.managers.SystemManager;<br />   public var loadedSM:SystemManager;<br />   <br />   // initialize variables with information from the loaded application<br />   private function initNestedApplicationProperties():void<br />   {<br />    loadedSM = SystemManager(myLoader.content);<br />   }<br />   <br />   protected function useEmbeddedPressed():void<br />   {<br />    loadedSM.application["label"].text = "Hello, outer application!";<br />   }<br />  ]]&gt;<br /> </fx:script><br /> <mx:swfloader complete="initNestedApplicationProperties()" height="311" id="myLoader" source="file:/C:/Users/nadine/Adobe Flash Builder 4/HelloEmbeddedApp/bin-debug/HelloEmbeddedApp.swf" width="556" x="107" y="59"><br /> <s:button click="useEmbeddedPressed()" label="Outer application button!!" x="284" y="389"><br /></s:button></mx:swfloader></s:application><br /></pre><br />So, to reference the functions or variables of an embedded SWF, you&#8217;ll want to preface variable/function names with <code>loadedSM.application["<em>variable/function name</em>"]</code>.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/_SdPKamJbrgg/TR2KetBeoCI/AAAAAAAAAC4/Jfu10aS58LA/s1600/fb_swfloader3.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="242" src="http://3.bp.blogspot.com/_SdPKamJbrgg/TR2KetBeoCI/AAAAAAAAAC4/Jfu10aS58LA/s320/fb_swfloader3.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">outer application, with the embedded SWF</td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/_SdPKamJbrgg/TR2GJlHbhNI/AAAAAAAAACs/CI3P5tqVK54/s1600/fb_swfloader4.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="229" src="http://3.bp.blogspot.com/_SdPKamJbrgg/TR2GJlHbhNI/AAAAAAAAACs/CI3P5tqVK54/s320/fb_swfloader4.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">hurray!</td></tr></tbody></table><br /><br /><br /><strong>One last interesting note:</strong><br />When playing around with this, my initial <code>useEmbeddedAlert</code> function looked like this:<br /><pre class="brush: js">protected function useEmbeddedAlert():void<br />{<br />    Alert.show("test alert");<br />    loadedSM.application["alert"]();<br />}<br /></pre>The idea was that clicking a button on the outer application would sent an alert, then call on the inner application&#8217;s function to make an alert.  Even so, when I clicked the button on the outer application, I would see the inner application function&#8217;s alert before I saw the &#8220;test alert&#8221; message.  More to think about later, I guess.<br /><br />(Incidentally, that last bit also shows an example of how to call a function from the SWF loaded in an SWFLoader.)<br /><br /><br /><span class="sig">Update</span><br />So I guess there&#8217;s a much easier way to interact with a SWF inside a SWFLoader, and it goes like this:<br /><br /><ul><li>Give your SWFLoader an id, like <code>loaderID</code></li><li>Interact with it by using <code>loaderID.content</code></li></ul><br />So, to call a function, you could write something like <code>loaderID.content["function"](args)</code>.<br /><br /><span class="shh">Huh.</span><br /><br />Sources:<br /><a href="http://help.adobe.com/en_US/flex/using/WS2db454920e96a9e51e63e3d11c0bf619ab-7ff0.html">Adobe: Loading applications with the SWFLoader control</a><br /><a href="http://help.adobe.com/en_US/flex/using/WS2db454920e96a9e51e63e3d11c0bf69084-7f0b.html">Adobe: Creating and loading sub-applications</a><br /><a href="http://help.adobe.com/en_US/flex/using/WS2db454920e96a9e51e63e3d11c0bf69084-7f9c.html">Adobe: SWFLoader control</a><br /><a href="http://help.adobe.com/en_US/flex/using/WS2db454920e96a9e51e63e3d11c0bf69084-7eec.html">Adobe: Listening for mouse events with loaded applications</a><br /><a href="http://www.bigresource.com/FLASH-SWFLoader-ioError-file-name--0q7ZSQf3Q7.html">BigResource thing</a><br /><a href="http://stackoverflow.com/questions/1091342/interact-with-swf-loader">Stackoverflow: Interact with SWF Loader</a></div>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">nadine a.</span></span>

      








  


<time datetime="2010-12-30T00:00:00-08:00" pubdate data-updated="true">Dec 30<span>th</span>, 2010</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/actionscript/'>actionscript</a>, <a class='category' href='/blog/categories/flash/'>flash</a>, <a class='category' href='/blog/categories/flex/'>flex</a>, <a class='category' href='/blog/categories/programming/'>programming</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://blog.neauro.com/blog/2010/12/30/problem-how-do-i-use-flex-components-to/" data-via="" data-counturl="http://blog.neauro.com/blog/2010/12/30/problem-how-do-i-use-flex-components-to/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2010/12/30/in-which-i-am-confused-about-flash-flex/" title="Previous Post: In which I am confused about Flash, Flex, ActionScript, etc.">&laquo; In which I am confused about Flash, Flex, ActionScript, etc.</a>
      
      
        <a class="basic-alignment right" href="/blog/2011/01/04/developing-protocol-buffers/" title="Next Post: Developing Protocol Buffers">Developing Protocol Buffers &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>About</h1>
  I'm Nadine. I like various things.  
</section>
<section>
  <h1>Other Places</h1>
  <ul>
    <li><a href="http://uxunicorn.com">Portfolio</a></li>
    <li><a href="http://neauro.tumblr.com">Tumblr</a></li>
    <li><a href="http://github.com/neauro">Github</a></li>
    </li>
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - nadine a. -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
