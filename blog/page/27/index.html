
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>liwanag</title>
  <meta name="author" content="nadine a.">

  
  <meta name="description" content="Operating Systems Notes [Chapter 2, 3] Jan 14th, 2011 OS StructuresCommand shells, I guess, make it so that users can actually speak directly to the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.neauro.com/blog/page/27">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="liwanag" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<!-- <link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css"> -->
<link href="http://fonts.googleapis.com/css?family=Metrophobic:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-46467190-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">liwanag</a></h1>
  
    <h2>things i learn, things i like</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.neauro.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/14/operating-systems-notes-chapter-2-3/">Operating Systems Notes [Chapter 2, 3]</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-14T00:00:00-08:00" pubdate data-updated="true">Jan 14<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<span class="sig">OS Structures</span><br /><strong>Command shells</strong>, I guess, make it so that users can actually speak directly to the OS and do something, rather than writing a program to speak with the OS.  I didn&#8217;t realize this.<br /><br />To make requests of the OS otherwise, you&#8217;d need to do a <strong>system call</strong>.  Types of requests that you might make the the OS would involve process control, and file and device manipulation (i.e. writing, reading from a mouse or file).<br /><br />Since operating systems are huge and all its parts tend to be interconnected, some better ways to program them involve using <strong>layers</strong> or <strong>microkernels</strong>.<br /><br />In the layered system, the OS structure is broken into layers, with the lowest being hardware and the highest being the user interface.  Layers can speak to adjacent layers, but not further.  The advantage is that you could be working on one layer at a time, and assume that if it works that you can move on to the next layer.  The issue with this is that you make the assumption that layers would not need to have communication across layers, when really sometimes layers <em>do</em> need to speak across other layers in real life, i.e. a user program needing to alter a file.<br /><br />In a microkernel system, all non-essential kernel programs are implemented as system and user-level programs, which means that the kernel is as small as it can possibly be to code it.  In general, this minimal kernel would provide only process and memory management along with a way to communicate.  The main function of the microkernel now is only to facilitate communication between the client program and other services, with messages.  Advantage is that it&#8217;s also easy to extend a microkernel&#8217;s functionality.  Disadvantage: poor performance if you need to make tons of system calls.<br /><br />In general, modularity is important.<br /><br /><br /><span class="sig">Processes</span><br />A process is a program in execution.  It consists of an address space, at least one thread, and a set of OS resources.  The address space is memory which contains code and data for the running program, as well as data relevant to the threads: registers, instruction pointer, stack and stack pointer.  A process also has a set of OS resources, such as open files, network connections, etc.  A process contains everything you need to run the program, or to restart it, if it gets interrupted.<br /><br />Processes may be independent or cooperating, depending on how they interact with each other.  <strong>Cooperating processes</strong> require some way to communicate with each other: either through shared memory (through shared variables), or message passing (through a pipe).  With shared memory, application programmers manage the communication, whereas with message-passing, the operating system has to take care of communication.  Shared memory and message passing aren&#8217;t mutually exclusive.<br /><br />You can also communicate across computers in a client-server system using sockets, remote procedure calls, or pipes.  A socket is an endpoint for communication, so a connection between two applications consists of two sockets, one for each.  <a href="http://nuubu.blogspot.com/2011/01/remote-procedure-calls-rpc.html">Remote procedure calls</a> are when an application calls another application&#8217;s function across a system.  Pipes come in two flavors: ordinary, which allows parent and child processes to communicate; and named, which allows two unrelated processes to speak with each other.</div>
</div>
  
  
  <div class="category-bit">Categories: 

<span class="categories">
  
    <a class='category' href='/blog/categories/compsci/'>compsci</a>, <a class='category' href='/blog/categories/notes/'>notes</a>, <a class='category' href='/blog/categories/operating-systems/'>operating systems</a>
  
</span>

</a>


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/14/flexas3-errors-with-stage-and-event/">Flex/AS3: Errors With Stage and Event Listeners</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-14T00:00:00-08:00" pubdate data-updated="true">Jan 14<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
This is a continuation of myself attempting to find out how to <a href="http://nuubu.blogspot.com/2010/12/problem-how-do-i-use-flex-components-to.html">use Flex UI components with a previously created AS3 project</a>.<br /><br />And it works fine, except for this error which I get when running in debug mode:<br /><br /><code>TypeError: Error #1009: Cannot access a property or method of a null object reference.</code><br /><br />It turns out that this error refers to a part of the AS3 code which does something with this variable called the stage.  This stage variable was an instance of the <strong>Stage</strong> class, and it&#8217;s made when the Flash Player starts.  SWF files are loaded into the stage container, and all of their objects that display are DisplayObjects, and are children of the stage.  All DisplayObject instances also have a <code>stage</code> property which references the stage that is displaying them.  <span class="shh">Also: Stage is a singleton class, meaning there&#8217;s only one of them, and it can&#8217;t be modified by lowly programmers, and is always at the top level of the display hierarchy within a Flash Player.</span><br /><br />Anyway, the error occurs (I think) because my parent (UI) application loads onto the stage before the embedded (AS3) application.  The AS3 app then tries to use the <code>stage</code> property before it&#8217;s even on the stage.  The solution is to make sure that the embedded SWF is on the stage before you try instantiating or doing anything.<br /><br />To fix it, I essentially wrapped up offending code in an event listener which would wait until the stage was loaded to execute.  So, this code which lets the stage listen for keyboard input:<br /><br /><pre class="brush: cpp"><br />stage.addEventListener(KeyboardEvent.KEY_DOWN, keyDownHandler);<br /><br /></pre><br />became<br /><br /><pre class="brush: cpp"><br />addEventListener(Event.ADDED_TO_STAGE, function (e:Event):void {<br />  stage.addEventListener(KeyboardEvent.KEY_DOWN, keyDownHandler);<br />});<br /><br /></pre><br />Not sure if this is good style or not.<br /><br /><br />Sources:<br /><a href="http://www.kirupa.com/forum/showthread.php?p=2129548#post2129548">Kirupa: ActionScript 3 Tip of the Day</a><br /><a href="http://jaycsantos.com/flash/do-you-know-actionscript-as3-stage/">jaycsantos.com: Do you know ActionScript?  AS3 Stage</a><br /><a href="http://board.flashkit.com/board/showthread.php?t=792605">Flash Kit: TypeError: Error #1009</a></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Lewis R Strasburg</div>
<div class='content'>
Nice solution, it worked great for me.  I only needed to reference the stage at the very beginning for a &quot;Press Any Key to Start&quot; scenario, and it wasn&#39;t working until now.  Thanks!</div>
</div>
</div>
</div>
  
  
  <div class="category-bit">Categories: 

<span class="categories">
  
    <a class='category' href='/blog/categories/actionscript/'>actionscript</a>, <a class='category' href='/blog/categories/flash/'>flash</a>, <a class='category' href='/blog/categories/flex/'>flex</a>, <a class='category' href='/blog/categories/troubleshooting/'>troubleshooting</a>
  
</span>

</a>


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/09/c-typedef-struct/">C: Typedef, Struct, Extern</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-09T00:00:00-08:00" pubdate data-updated="true">Jan 9<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<span class="sig">What is <code>typedef</code> and <code>struct</code>?</span><br />A struct in C is a structured type that combines a set of labeled objects of different types, into a single object.  So, kind of like a Java object with its own variables.<br /><br />An example of a struct you could make would be<br /><br /><pre class="brush: cpp">struct pokemon {<br />   char* nickname;<br />   char* species;<br />   int level;<br />   char* item;<br />};<br /></pre><br />Then, to create a new Pokemon struct, I could say<br /><br /><pre class="brush: cpp">struct Pokemon pikachu;<br /></pre><br />And to access the new struct&#8217;s nickname, I could say something like<br /><br /><pre class="brush: cpp">pikachu.nickname;<br /></pre><br />The keyword <code>typedef</code> is just meant so that you can assign different &#8220;names&#8221; to existing types, in case you may get confused.  For instance, you might have code that looks like<br /><br /><pre class="brush: cpp">char* pokemon_name;<br />char* item;<br /><br />void buy(char* item) {<br />   // remove money from the user<br />}<br /></pre><br />Though <code>buy</code> can take any char*, what you really want it to do is only accept char* that represent items, not Pokemon nicknames.  So, you can use typedef to distinguish that pokemon_name and item are completely unrelated variables which happen to both be of type char*.<br /><br /><pre class="brush: cpp">typedef char* pokemon_name;<br />typedef char* item;<br /><br />pokemon_name pokemon_nickname;<br />item item_name;<br /><br />void buy(char* item) {<br />   // remove money from the user<br />}<br /></pre><br />This distinction is only for the programmer; the C/C++ compiler considers both things to be char*, and won&#8217;t give any errors if you happen to try and purchase a Pokemon.  <span class="shh">You cheat.</span><br /><br /><code>typedef</code> can also make declarations easier; for instance, if I did something like<br /><br /><pre class="brush:cpp">typedef struct Pokemon {<br />   char* nickname;<br />   char* species;<br />   int level;<br />   char* item;<br />} Pokemon;<br /></pre><br />Then, instead of having to write <code>struct Pokemon pikachu;</code> like earlier, I could make a new Pokemon just by saying<br /><br /><pre class="brush: cpp">Pokemon pikachu;<br /></pre><br /><br /><span class="sig">What does <code>extern</code> mean?</span><br />The <code>extern</code> declaration indicates the existence of, and type of, a global variable or function.  <code>extern</code> means that something is defined externally to the current module (so if your current .c file is using it, that means that another, included file actually defined it?).  <code>extern</code> can be left off because the linker collapses the multiple definitions into a single one, but to use the <code>extern</code> keyword is cleaner because it defines the global variable in one place, and everything else makes <code>extern</code> references to it.  <br /><br />If a program has a variable that&#8217;s declared as <code>extern</code>, the program won&#8217;t reserve any memory for the variable in the scope that it was declared.  Which is why you need to use the <code>extern</code> keyword in programs that are using the declaration, but haven&#8217;t defined it.<br /><br /><br /><br />Source:<br /><a href="http://en.wikipedia.org/wiki/Struct_%28C_programming_language%29">Wikipedia: Struct (C programming language)</a><br /><a href="http://wiki.answers.com/Q/What_is_the_use_of_extern_in_C">Answers.com: What is the use of extern in C</a></div>
</div>
  
  
  <div class="category-bit">Categories: 

<span class="categories">
  
    <a class='category' href='/blog/categories/c/'>c</a>, <a class='category' href='/blog/categories/notes/'>notes</a>, <a class='category' href='/blog/categories/programming/'>programming</a>
  
</span>

</a>


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/06/q-operating-systems-etc/">[Q&a] Operating Systems, C, Etc.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-06T00:00:00-08:00" pubdate data-updated="true">Jan 6<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<b>How do you switch drives with Windows command line?</b><br />If you want to go to drive <code>Z:</code>, rather than <code>cd Z:</code>, you can just type <code>Z:</code>.<br /><br /><br /><b>What do you do when you demux something?</b><br />A demultiplexer is a device that takes a single input signal and routes it to one of many output lines.  It&#8217;s often used with a multiplexer on the sending end.  So, when you demux a signal, you accept it, and then based on some parameter send it to a different function or something. <span class="shh">I think?</span><br /><br /><br /><b>What&#8217;s a virtual machine?</b><br />&#8220;A software implementation of a programmable machine&#8221; &#8211; so, a simulation of a computer, on a computer.<br /><br /><br /><b>What&#8217;s the difference between a function in C and a method in Java?</b><br />All C/C++ programs require a function named <code>main</code> and besides that can have numerous other functions.  In Java, functions can&#8217;t stand by themselves &#8211; they have to be part of a class.  Functions that are part of a class are usually called methods.<br /><br />Also, it seems that methods are called by reference values, which are objects, perhaps like <code>Object.method()</code>, as opposed to just <code>value = function()</code>?  Also, &#8220;method&#8221; is used more often in Java, most likely because Java has objects and C/C++ does not.<br /><br /><br /><b>What&#8217;s Windows NT?</b><br />It&#8217;s a family of operating systems created by Microsoft, which were meant to complement consumer versions of Windows that were based on MS-DOS.  NT was the first fully 32-bit version of Windows.  Windows 2000, Windows XP, Windows Server 2003, Windows Vista, Windows 7, etc., are based on Windows NT, though they aren&#8217;t branded the same way.  NT was once expanded to mean &#8220;New Technology&#8221; and stood originally for &#8220;N-Ten,&#8221; the codename of the Intell i860 XR processor that the OS was originally developed for, but NT has no particular meaning anymore.  Sidenote: it is really confusing that there&#8217;s an operating system called Windows <i>Server</i> 2003.  <i>Wat.</i>  I guess this calls into question what exactly a server is supposed to be.<br /><br /><br /><b>What is a server?</b><br />A server can refer to:<br /><ul><li>a computer program running as <a href="http://nuubu.blogspot.com/2011/01/intro-to-distributed-systems.html">a service</a>, to serve the needs or requests of other programs</li><li>a physical computer running one or more such services, to serve the needs of programs running on other computers in the same network</li><li>a software/hardware system such as a database server, file server, mail server, print server</li></ul>I guess server operating systems are operating systems that have certain features which make them good servers &#8211; such as limited GUI, flexible/advanced networking capability, tight security, backup securities, transparent data transfer between different volumes or devices &#8211; and maybe that&#8217;s what the Windows Server operating systems are all about.<br /><br /><br /><b>How do you press Ctrl+Alt+Delete in a virtual machine?</b><br />In a virtual machine in MS Virtual PC 2007, rather than pressing the keys, go to the <code>Action</code> tab and select <code>Ctrl+Alt+Delete</code>.<br /><br /><br /><b>What does the <code>_</code> or <code>__</code> mean in C programs?</b><br />There&#8217;s no particular meaning.  <code>_</code> is meant to identify system variables/functions, <code>__</code> is meant to identify metadata.  Additionally, when you include headers in C, you <br />add in a lot of code and functions and variables; to prevent these imported names from causing duplicates with the variables/names of your own stuff, it&#8217;s best to avoid using variables/functions which start with underscores in your own program.<br /><br /><br /><br /><br />Source:<br />Jimmy<br />Wikipedia: <a href="http://en.wikipedia.org/wiki/Multiplexer">1</a>, <a href="http://en.wikipedia.org/wiki/Virtual_machine">2</a>, <a href="http://en.wikipedia.org/wiki/Windows_NT">3</a>, <a href="http://en.wikipedia.org/wiki/Server_%28computing%29">4</a><br /><a href="http://www.geekinterview.com/question_details/31163">GeekInterview: What is the difference between methods and functions?</a><br /><a href="http://www.dickbaldwin.com/java/Java008.htm">Dick Baldwin: Similarities and Differences between Java and C++</a><br /><a href="http://bytes.com/topic/c/answers/540408-_-__-significance">Bytes: _ and __ significance</a></div>
</div>
  
  
  <div class="category-bit">Categories: 

<span class="categories">
  
    <a class='category' href='/blog/categories/c/'>c</a>, <a class='category' href='/blog/categories/compsci/'>compsci</a>, <a class='category' href='/blog/categories/notes/'>notes</a>, <a class='category' href='/blog/categories/qna/'>qna</a>
  
</span>

</a>


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/06/operating-systems-notes-lecture-2/">Operating Systems Notes [Lecture 2]</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-06T00:00:00-08:00" pubdate data-updated="true">Jan 6<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
An operating system provides <a href="http://nuubu.blogspot.com/2011/01/operating-system-notes-chapter-1.html">a middle ground</a> between hardware and software, so making an operating system depends a lot on what hardware you have underlying it.  Computer hardware, however, has the amazing capacity to (at least until fairly recently) follow <strong>Moore&#8217;s Law</strong>, which states that <em>the number of transistors that can be placed inexpensively on an integrated circuit has doubled approximately every two years.</em>  I guess this trend has persisted for half a century, making it so that processors and memory have become ridiculously cheap, ridiculously fast.<br /><br />What this means is, the hardware conditions that you assume and initially create your operating system for may not hold true, and then you&#8217;ll be screwed.<br /><br />One interesting thing is that, though processor performance has increased throughout the years, disk capacity has become 10x as fast as processor performance.  Disk performance has <em>not</em> kept up, having only increased by a factor of 200 since 1983 (from 500 kb/s to ~100 mb/s).  Bandwidth presently is 100x as fast as processor performance, and 10x as fast as disk performance.<br /><br />An obvious implication of these unexpected growths is this: What happens if you have always designed systems so that they spend processing power so as to save &#8220;scarce&#8221; storage and bandwidth?<br /><br />Another thing: operating systems must load programs into main memory in order to execute them, but main memory is not large enough to hold everything all at once, and occasionally you&#8217;ll have to fetch data from the disc.  A computer going out of its way to fetch data from the disc is like a human going out of its way to fetch something from Pluto.  <em>Uphill.  Both ways.  In space.</em><br /><br />In general, hardware can dictate a lot about how simple or complex it will be to implement an OS.  Early OS (like DOS) didn&#8217;t have virtual memory, because the hardware didn&#8217;t allow it; and until recently, Intel-based PCs still didn&#8217;t support 64-bit addressing, though other platforms have had it since forever, like IBM, MIPS, etc.<br /><br />Features were also sometimes built into hardware to support OS building, like timer operation, memory protection, interrupts and exceptions, system calls.<br /><br /><strong>System calls</strong> are there so that the user can call an OS procedure, which is otherwise protected and kept out of hand&#8217;s reach on top of the refridgerator in kernel mode, so that the user doesn&#8217;t eat it all and spill it all over everything.  Once the user is done having a dessert cookie, the OS moves back into user mode, and relinquishes control back to the user.<br /><br />The kernel must save the state that the user was in before the user wanted to eat a cookie, so that it can remember what it was doing before it was interrupted, and resume.<br /><br />So in general the OS sits around waiting for events to happen that it can deal with.  Events can be interrupts, which are sent by programs, or they can be exceptions.  <strong>Exceptions</strong> are thrown by hardware once it detects certain rules being violated (like if someone tries to write to a read-only file), and when they happen control must be passed to the OS&#8217;s handler, with the saved state at the time of the fault.  Exceptions are a performance optimization in that the OS doesn&#8217;t have to deal with figuring out when things are going wrong &#8211; the hardware detects the violation &#8211; and detecting exceptions would be a big hassle for the OS because those extra checks would have to be written into the kernel, taking valuable space.<br /><br />In the meantime, interrupts allow for <strong>asynchronous I/O</strong>.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/_SdPKamJbrgg/TSasz1jh5fI/AAAAAAAAAD8/9lBMBA1S9E0/s1600/os%2Bio%2Bcontrol.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="320" src="http://1.bp.blogspot.com/_SdPKamJbrgg/TSasz1jh5fI/AAAAAAAAAD8/9lBMBA1S9E0/s320/os%2Bio%2Bcontrol.jpg" width="246" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">this is how we deal with I/O interrupts around here</td></tr></tbody></table><br />So, I/O interrupts can happen at any time, any place.  How do you protect yourself from getting interrupted so much that you end up never getting anything done?  Your OS will have to be able to <strong>synchronize concurrent processes</strong> by guaranteeing that short instructions (read-modify-write) will happen automatically; or maybe, by not letting certain processes get interrupted until their finished; or maybe, by having special atomic instructions, such as the read-modify-write, which you execute immediately.<br /><br /><strong>Concurrent programming</strong> is a huge deal and is a huge difference between systems programming and &#8220;traditional application programming,&#8221; which I&#8217;m starting to feel is like, the lame computer programming.<br /><br /><br /><br />Sources:<br />Lecture 2 notes<br /><a href="http://en.wikipedia.org/wiki/Moore's_law">Wikipedia: Moore&#8217;s Law</a></div>
</div>
  
  
  <div class="category-bit">Categories: 

<span class="categories">
  
    <a class='category' href='/blog/categories/compsci/'>compsci</a>, <a class='category' href='/blog/categories/notes/'>notes</a>, <a class='category' href='/blog/categories/operating-systems/'>operating systems</a>
  
</span>

</a>


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/06/operating-system-notes-chapter-1/">Operating Systems Notes [Chapter 1]</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-06T00:00:00-08:00" pubdate data-updated="true">Jan 6<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<span class="sig">What is an operating system?</span><br />An <strong>operating system</strong> is a program that manages computer hardware, as well as providing a basis for application programs.  There are a variety of types of operating systems, not all of them for making it easy for a user to use games or software on a computer &#8211; for instance, you might have a mainframe operating system, which is an OS designed to optimize utilization of hardware.<br /><br />Computers are broken up into 4 &#8220;layers:&#8221;<br /><ul><li><em>Hardware.</em> The central processing unit (CPU), the memory, the input/output devices (like a keyboard, mouse)</li><li><em>Application programs.</em>  The programs you use on your computer &#8211; word processor, PhotoShop, Firefox, etc.</li><li><em>User</em>.  You.</li><li><em>Operating system.</em> Provides an environment for the application programs to do their work, and controls hardware, and coordinates its use amongst the various application programs.</li></ul><br />So, <strong>an operating system makes it so a user can more easily use applications on a computer</strong>, and also <strong>allocates the resources in the hardware</strong> to different applications.  It&#8217;s like the middle layer.<br /><br />The operating system is the one program that&#8217;s running at all times when your computer is on, also called the <strong>kernel</strong>.  (<strong>Systems programs</strong> are associated with OS too, but not the kernel, and <strong>application programs</strong> include all programs that are not associated with the operation of the system.)<br /><br /><br /><span class="sig">CPU and storage</span><br /><strong>CPUs and device controllers</strong> have access to a shared memory, and execute concurrently, competing for memory cycles.  The memory controller makes sure that their access to memory is not messed up, i.e. probably that controllers aren&#8217;t trying to access each other while they&#8217;re being used.<br /><br /><strong>A bootstrap program</strong> is the first program that a computer runs when it is turned on, and is simple, and stored in read-only memory (ROM), which is known as <strong>firmware</strong> and is stored on the computer hardware.  This intializes the system, turning on the CPU and device controllers and memory contents.  The bootstrap program is the one that loads the OS and begins executing it by loading the OS kernel into memory and letting the OS execute its first process, &#8220;init.&#8221;<br /><br /><strong>Interrupts</strong> are sent out by routines and are important because they tell the CPU to stop what it&#8217;s doing and transfer execution to the starting address of the routine.  Interrupts have to be handled quickly, so internet routines are sometimes stored in a table so that they can be called indirectly, but immediately.  This table is usually stored in low memory, and is called an <strong>interrupt vector</strong>.  An interrupt will most likely interfere with another computation that the processor was doing, so the address of that computation must be saved in a system stack, so that the CPU can return and resume later.<br /><br /><strong>Interrupt-driven</strong> refers to how most modern OS sit around and don&#8217;t do anything unless an event happens, i.e. an interrupt.  Code in the OS determine what action to take in the case of each interrupt.  An interrupt service routine is provided that is responsible for dealing with the interrupt.<br /><br /><strong>Low memory</strong> refers to the first hundred or so locations in memory.<br /><br /><strong>Random-access memory (RAM) or main memory</strong> is what stores most of the programs that are run by the CPU.  The CPU can only load instructions from memory.  RAM is implemented in a semiconductor technology called <strong>dynamic random-access memory (DRAM)</strong>.  Though it&#8217;s used to store programs, it&#8217;s usually too small to store all the needed data and programs permanently, and it&#8217;s a volatile storage device in that its contents is lost when computer power is turned off.  This is why secondary storage of memory is usually required.<br /><br /><strong>Secondary storage for memory</strong> must be able to hold large amounts of data permanently.  Example: magnetic disc, cache memory, CD-ROM, etc.<br /><br /><strong>Storage device hierarchy</strong> refers to how the high-level storage devices are fast, but expensive and volatile (like RAM, which is erased when the computer shuts off).  Highest on the pyramid are registers, the cache, and RAM; lower are the hard disk, or offline storage like magnetic tape.<br /><br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/_SdPKamJbrgg/TSZjeXlfXQI/AAAAAAAAAD0/vGkuN6HSEKU/s1600/StorageHierarchy.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="188" src="http://1.bp.blogspot.com/_SdPKamJbrgg/TSZjeXlfXQI/AAAAAAAAAD0/vGkuN6HSEKU/s320/StorageHierarchy.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">(<a href="http://www.ts.avnet.com/uk/products_and_solutions/storage/hierarchy.html">source</a>)</td></tr></tbody></table><br /><br /><strong>Read-only memory (ROM)</strong> can also store programs, but since it can&#8217;t be changed, only static programs are stored here.  ROM is where firmware is stored, and also sometimes (in the past, I guess?) lookup tables for things that don&#8217;t change, like mathematical functions.  Also, used in game cartridges!<br /><br /><strong>Von Neumann architecture</strong> describes a computer design model.  A computer with von Neumann architecture uses a CPU and a single separate storage structure (the memory) to hold both instructions and data.  The computer must also be a stored-program computer, meaning that its data and program instructions are stored in RAM.  &#8220;von Neumann architecture&#8221; and &#8220;stored-program computer&#8221; are generally used interchangeably.<br /><br /><strong>Typical instruction-execution cycle in a system with von Neumann architecture:</strong> An instruction is fetched from memory, and stored in an <strong>instruction register</strong>.  The instruction is then decoded, stored in a register, and the results may be then stored back into memory.  The running program will generate a sequence of memory addresses, which is what the memory unit sees.<br /><br /><br /><span class="sig">I/O structure</span><br /><strong>Device controllers</strong> are part of a general-purpose computer system (the other part being the CPUs), and each one is in charge of a specific type of device.  Depending on the controller, more than one device may be attached; for instance, seven or more devices can be attached to the <strong>small computer-systems interface (SCSI) controller</strong>.  They maintain local buffer storage and a set of special registers.<br /><br /><strong>Device drivers</strong> are kept by the OS, one for each device controller.  The driver provides an interface to allow the OS to interact with the device.  So you might have a device controller for a keyboard, and the driver would allow the OS to obtain the specific key presses.<br /><br /><strong>Direct-access memory (DMA)</strong> is memory that allows bulk data movement, such as input/output to/from a disk.  This makes it so that a block of data can be transferred by the device controller from its own buffer storage into the destination memory, without any help from the CPU, and it emits only one interrupt, when the operation has completed, rather than one interrupt per transferred byte.<br /><br /><br /><span class="sig">Computer-System architecture</span><br /><strong>Single-processor systems</strong> have only one general-purpose CPU capable of executing the instruction set, including instructions from user processes.  In contrast, almost all systems have separate, special-purpose (micro?) processors that are device-specific, such as a processor for the graphics controllers.  Special-purpose microprocessors don&#8217;t run user processes, don&#8217;t usually communicate with the OS (so that it can worry about its own things and go faster), and the presence of special-purpose microprocessors doesn&#8217;t turn a single-processor system into a multiprocessor system.<br /><br /><strong>Multiprocessor systems</strong> are the most common, and also called <strong>parallel systems</strong>.  These systems have two or more processors in close communication, sharing the computer bus and sometimes the clock, memory, and peripheral devices.  They have increased throughput (more processors = more work done in less time), economy of scale (more processors share peripherals, mass storage, and power supplies), and increased reliability (if work is shared between two processors, the failure of one processor will not halt the system, only slow it down).<br /><br /><strong>Graceful degradation</strong> is when a computer system can continue to provide service proportional to the level of surviving hardware.<br /><br /><strong>Fault tolerance</strong> is cooler than graceful degradation, and means that a computer system can suffer a failure to any single component and still continue to operate.<br /><br /><strong>Asymetric multiprocessing</strong> is when each processor in a multiprocessor system is assigned a specific task.  A master processor controls the system, and the other processors look to the master for instruction or have pre-defined tasks.  This is a master-slave relationship.<br /><br /><strong>Symmetric multiprocessing (SMP)</strong> is when each processor performs all tasks within the operating system, and all processors are peers to each other.  Each processor has its own set of registers, and its own local cache, though all processors share physical memory.<br /><br /><strong>Cores</strong> are essentially multiprocessor chips, which are placed on a single chip.  They can be more efficient than multiple chips with single cores because on-chip communication is faster than between-chip communication, and one chip with multiple cores will use tons less power than multiple single-core chips.  Multicore systems are good for server systems, like database and Web servers.  An example dual-core design will have a chip with two cores, each core having its own set of registers and a cache.<br /><br /><strong>Clustered systems</strong> are the same as <a href="http://nuubu.blogspot.com/2011/01/intro-to-distributed-systems.html">distributed systems</a>, I think?!  Oh, no &#8211; I guess clustered systems are made of two or more computer systems (nodes) closely linked through something like LAN, whereas a distributed system is a collection of physically separate computer systems connected by a network to &#8220;provide users with access to the various resources that the system maintains.&#8221;  More about shared resources than parallelization, I guess?  According to this book?<br /><br /><br /><span class="sig">Operating-System Structure</span><br /><strong>Multiprogramming</strong> is when different jobs (code and data) on a computer are organized so that the CPU is always executing something.  A single program can&#8217;t usually keep either the CPU or I/O devices busy at all times.  So, several jobs are kept in memory simultaneously, and whenever one program starts to wait for something (i.e. keyboard input, which it would need to continue), the CPU turns its attention elsewhere and executes another job.<br /><br /><strong>Timesharing or multitasking</strong> is an extension of multiprogramming.  In a timesharing system, a CPU will execute multiple jobs by switching between them, but users interacting with each program won&#8217;t notice since the jobs are switched so quickly.  This allows it so that multiple users can share one computer.<br /><br /><strong>A process</strong> is a program that is loaded into memory and is executing.  Usually, a process will only actually execute for a short time before it finishes or needs to perform I/O, like showing display to a user, or taking input from a keyboard.  A process is allocated resources like memory, and when the process terminates the OS will reclaim the resources.<br /><br /><strong>Job scheduling</strong> is when there are too many jobs to be all held in main memory; then the OS must choose which ones to execute.<br /><br /><strong>CPU scheduling</strong> is when several jobs are ready to run at the same time, and the system needs to choose which one to execute.<br /><br /><strong>The timer</strong> keeps user programs from being stuck in an infinite loop, which would prevent them from ever returning control to the OS.  The timer can be set to interrupt the computer after a specified period.  The operating system counts off the time.<br /><br /><span class="sig">Dual-Mode Operation</span><br />Operating systems must execute their own code, as well as user-defined code.  So, there are two modes of operation for each: <strong>user mode</strong>, and <strong>kernel mode</strong> (also called supervisor mode, system mode, or privileged mode).  A <strong>mode bit</strong> is added to the hardware of the computer to indicate whether the mode is presently kernel (0) or user (1).<br /><br />The hardware starts in kernel mode, then switches to user mode so that applications can be run.  If the user program makes a system call, the computer changes its mode back to kernel mode, does the proper stuff, and then returns to user mode before executing user code again.  This protects the OS from errant users, and errant users from one another.<br /><br />Since a user could accidentally overwrite OS code, most operating systems use this dual-mode thing.<br /><br /><br /><span class="sig">How does an OS manage memory?</span><br />Main memory is just a large array of bytes, which is quickly accessible by the CPU and I/O devices.  It&#8217;s usually the only memory that the CPU can address and access directly.  For a program to be executed, it must be mapped to absolute addresses and loaded into main memory; as it executes, it access instructions and data from the memory that was allocated to it, and when it terminates, the space it inhabited is declared available again.<br /><br />The OS has to keep track of who is using memory and how much, deciding which programs get moved in and out of memory, and allocating and deallocating memory space.<br /><br />Most programs are stored on a disk until their loaded into memory, and then use the disk as the source and destination of their processing.<br /><br />Note: It confused me for the longest time how &#8220;disk&#8221; is different from &#8220;memory.&#8221; I guess it&#8217;s just a CS distinction, since I know when people purchase &#8220;more memory&#8221; they&#8217;ll get, like, an external harddrive.  Hard disk?  I have a feeling I&#8217;ve been using all of these things interchangeably for forever.<br /><br /><br /><span class="sig">Special-purpose systems</span><br />Embedded computers are the most prevalent form of computers &#8211; they&#8217;re in car engines, DVDs, microwave ovens, etc.  They almost always run a <strong>real-time operating system</strong>, which is used when processors have to operate or data has to flow in a very rigidly defined amount of time.  If the processing is not done in the strict time constraint, it will fail.<br /><br /><br /><span class="sig">How does an OS manage file storage?</span><br />Storage media like magnetic disks, optical dicks, and magnetic tape have properties include access speed, capacity, data-transfer rate, and access method (sequential or random).  OS have to create and delete files (and their directories), support primitives for manipulating files and directories, map files onto secondary storage, and back up non-volatile storage media.<br /><br /><br /><br />Source:<br /><em>Operating System Concepts (8th Edition)</em>, Silberschatz, Galvin and Gagne, ISBN 978-0-470-12872-5.  Chapter 1.<br /><a href="http://en.wikipedia.org/wiki/Read-only_memory">Wikipedia: Read-only memory</a><br /><a href="http://en.wikipedia.org/wiki/Von_Neumann_architecture">Wikipedia: Von Neumann architecture</a></div>
</div>
  
  
  <div class="category-bit">Categories: 

<span class="categories">
  
    <a class='category' href='/blog/categories/compsci/'>compsci</a>, <a class='category' href='/blog/categories/notes/'>notes</a>, <a class='category' href='/blog/categories/operating-systems/'>operating systems</a>
  
</span>

</a>


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/06/avocado-tempura/">Avocado Tempura</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-06T00:00:00-08:00" pubdate data-updated="true">Jan 6<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<div class="separator" style="clear: both; text-align: center;"><a href="http://www.flickr.com/photos/auroraki/4065116387/" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="424" src="http://2.bp.blogspot.com/_SdPKamJbrgg/TSa1P1Ne_TI/AAAAAAAAAEc/d8x3in3nEos/s640/avocado%2Btop.jpg" width="640" /></a></div><br />Vegetable tempura is my favorite, and I once tried making avocado tempura, which was pretty alright, though it had kind of a strange smell and after-taste and was in general a little unremarkable.  (Better use for avocados: as a substitute for cream cheese on bagels.)<br /><br />That being said, I&#8217;m pretty sure the recipe involved doing something like this:<br /><ol><li>Cut up some firm avocadoes</li><li>Whisk around an egg</li><li>Dip the avocado pieces in egg</li><li>Roll them around in a composite of flour, salt, and pepper</li><li>Deep-fry them until the coating is browned</li><li>Eat with soy sauce and sake!</li></ol><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://www.flickr.com/photos/auroraki/4065865690/" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="424" src="http://4.bp.blogspot.com/_SdPKamJbrgg/TSa0jsWlQEI/AAAAAAAAAEM/Rdo7V18jRj4/s640/avocado%2B2.jpg" width="640" /></a></div><br />I&#8217;m definitely going to try and find a better way to do this.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://www.flickr.com/photos/auroraki/4065119421/" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="424" src="http://1.bp.blogspot.com/_SdPKamJbrgg/TSa0uHf0YDI/AAAAAAAAAEU/ZZe16RIhgXE/s640/avocado%2Bmany.jpg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">not giving up on you just yet, bro</td></tr></tbody></table></div>
</div>
  
  
  <div class="category-bit">Categories: 

<span class="categories">
  
    <a class='category' href='/blog/categories/cooking/'>cooking</a>, <a class='category' href='/blog/categories/food/'>food</a>, <a class='category' href='/blog/categories/recipe/'>recipe</a>
  
</span>

</a>


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/04/remote-procedure-calls-rpc/">Remote Procedure Calls (RPC)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-04T00:00:00-08:00" pubdate data-updated="true">Jan 4<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<span class="sig">What is a remote procedure call (RPC)?</span><br />RPC is a paradigm for providing communication across a network between programs written in a high-level language.  &#8220;Procedure calls&#8221; in general are a well-known and well-understood way of transferring control and data within a program on a single computer &#8211; a program calls a procedure, giving it certain arguments, and receives some output from the procedure back.  So, a remote procedure call &#8211; when a program calls a procedure that is not necessarily on the same system that the program is on &#8211; should be workable as well.<br /><br />An RPC &#8220;cycle&#8221; goes like this:<br /><ol><li>A remote procedure is invoked by a caller, who passes the procedure parameters</li><li>The caller&#8217;s environment is suspended as it waits for a response</li><li>The parameters are passed across the network to the environment where the procedure will execute</li><li>The desired procedure is executed</li><li>When the procedure finishes executing, the results are passed back to the calling environment</li><li>The caller&#8217;s environment resumes with the new data (or else fails, I assume, because of a timeout&#8230;though the &#8220;Implemented remote procedure calls&#8221; didn&#8217;t use timeouts, since single-machine systems don&#8217;t)</li></ol><br /><br /><span class="sig">What are the advantages of RPC?</span><br /><ol><li><strong>Clean and simple semantics.</strong>  <a href="http://nuubu.blogspot.com/2011/01/intro-to-distributed-systems.html">Distributed systems</a> are complicated because communication throughout one is complicated, so simplicity is good.</li><li><strong>Simplicity.</strong>  Which means it&#8217;s probably fast.</li><li><strong>Generality.</strong>  Procedure calls work in single-machine systems, besides being usable in distributed systems.</li></ol><br /><br /><span class="sig">What are the disadvantages of RPC?</span><br />There are some design issues &#8211;<br /><ul><li>What semantics do you use when the machine fails, or when communication fails?</li><li>What are the semantics when a caller does something address-specific, and the caller and callee don&#8217;t have a shared address space?</li><li>How do you integrate RPC into existing/future programming systems?</li><li>How does a caller figure out the location and identity of the procedure it wants?</li><li>What&#8217;s a suitable protocol for the transfer of data?</li><li>How do you provide data integrity and security in an open communication network?</li></ul><br /><br /><span class="sig">Really general implementation</span><br />The structure of RPC is based on the concept of <em>stubs</em>; the parts of the program involved in an RPC (the user, the user-stub, the RPC communications package, the server-stub, and the server) are all executed on their respective places, and when a user wants to use an RPC, it really just calls its user-stub, which is what makes the RPC.  This way, specifying the target procedure and the arguments is sent in a &#8220;call packet&#8221; to the server-side stuff, which is handled similarly: the server-stub unpacks the packet, makes a local call to the procedure on the server, and packs it up again in a &#8220;result packet&#8221; to be sent to the caller.  This serves to encapsulate everything (I think?).<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/_SdPKamJbrgg/TSPV2_29a7I/AAAAAAAAADs/WoPFIW0-3zM/s1600/rpc%2Bstubs.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="161" src="http://2.bp.blogspot.com/_SdPKamJbrgg/TSPV2_29a7I/AAAAAAAAADs/WoPFIW0-3zM/s320/rpc%2Bstubs.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">from &#8220;Implementing Remote Procedure Calls&#8221;</td></tr></tbody></table><br />The RPCRuntime handles the actual handling-off between the user-stub and the server-stub.<br /><br />The semantics of RPCs can also be handled without needing a specialized packet-level protocol.  <br /><br /><br /><span class="sig">Other notes:</span><br /><ul><li>RPC is supposed to make distributed computation more easy; in the &#8220;Implementing Remote Procedure Calls&#8221; paper, the authors hoped to solve the difficulty of distributed systems communication and leave only the problems of timing, independent failure of components, and the coexistence of independent execution environments.</li></ul><br /><br />Source:<br /><a href="http://portal.acm.org/citation.cfm?id=357392">Andrew Birrell and Bruce Nelson. Implementing Remote Procedure Calls. ACM TOCS 1984.</a></div>
</div>
  
  
  <div class="category-bit">Categories: 

<span class="categories">
  
    <a class='category' href='/blog/categories/compsci/'>compsci</a>, <a class='category' href='/blog/categories/distributed-systems/'>distributed systems</a>, <a class='category' href='/blog/categories/notes/'>notes</a>
  
</span>

</a>


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/04/intro-to-distributed-systems/">Intro to Distributed Systems</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-04T00:00:00-08:00" pubdate data-updated="true">Jan 4<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
So, for now at least, I&#8217;m taking a class on distributed systems.  <a href="http://code.google.com/edu/parallel/dsd-tutorial.html">Google</a> has a good tutorial on what a distributed system is, which I will take notes from/copy shamelessly.<br /><br />Firstly, definitions &#8211;<br /><strong>A protocol</strong> is &#8220;a formal description of message formats and the rules that two processes must follow in order to exchange those messages.&#8221;<br /><br /><strong>A network</strong> is &#8220;the infrastructure that links computers, workstations, terminals, servers, etc.  It consists of routers which are connected by communiation links.&#8221;<br /><br /><strong>A distributed system</strong> is &#8220;an application that executes a collection of protocols to coordinate the actions of multiple processes on a network, such that all components cooperate together to form a single or small set of related tasks.&#8221;<br /><br />My impression of it currently is also like this: a distributed system is a program that controls a ton of computers and with their powers combined accomplishes great things, like searching the internets for that picture of Maru wearing a crab hat.<br /><br /><br /><span class="sig">Advantages of a distributed system:</span> <br />Distributed systems can connect remote users with remote resources in an open and scalable way.  <em>Open</em> meaning that each component of the system can interact with other components at any time, <em>scalable</em> meaning that the system can be easily altered to accomodate changes in the amount of users or resources.<br /><br /><br /><span class="sig">Disadvantages of a distributed system:</span><br />A system of things working together is more complicated than a system of something working by itself.  An example of this is an airplane with two engines, which spend much more time on the ground than airplanes with a single engine, simply because planes cannot take off if anything is wrong with them, and there&#8217;s more to go wrong with an airplane that has more engines.<br /><br />Distributed systems have a lot of complexity because its components, the computers or servers or etc., have to interact properly.  An example of how difficuult the interaction can be can be found with the <strong>two generals problem</strong>, which goes like this:<br /><br /><blockquote>Two generals on opposite hillsides want to coordinate an attack.  General A sends a message &#8211; &#8220;Let&#8217;s attack at dawn!&#8221; &#8211; to General B.  How will General A know if General B agrees?  B will send a message in response &#8211; &#8220;Alright, let&#8217;s attack at dawn!&#8221; But then how will B know that A received his confirmation?  A will have to send a message back.  And then how will A know that B got the confirmation message?  B will have to send a message back&#8230;</blockquote><br />And so on and so forth.<br /><br /><br /><span class="sig">So, a well-designed distributed system will have these characteristics:</span><br /><ol><li>Fault-tolerant: if a components fails, it can recover without performing incorrect actions</li><li>Highly available: if a component fails, it can restore operations and continue to provide services</li><li>Recoverable: if a component fails, it can restart itself and rejoin the system after failure has been fixed</li><li>Consistent: in the event of failure, a system can still coordinate components</li><li>Scalable: if some aspect of the system is scaled to a larger size (i.e. if there are more users, or size of network increases), then the system can still work correctly</li><li>Predictable performance: the system can provide responsiveness in a timely fashion</li><li>Secure: the system can authenticate access to data and services</li></ol><br />With distributed systems, you have to <em>design for failure</em>.  If I told you to do something and you didn&#8217;t do it, is it because I didn&#8217;t tell you clearly what to do?  Or is it because you didn&#8217;t see me tell you?  Or is it because I didn&#8217;t get confirmation that you had done it?  This problem is the reason why distributed systems are so hard to debug &#8211; it&#8217;s hard to see where exactly the problem originated, or why it happened.<br /><br /><br /><span class="sig">Distributed systems design</span><br />Firstly, about client-server applications.  They work by having a <em>server</em> which provides some service, like processing database queries, and a <em>client</em> which uses the service, i.e. to show the database query results.  Different types of servers do different things: for instance, a database server houses databases and allows clients to access them, file servers manage disk storage, etc.  The communication between client and server needs to be reliable.<br /><br />Reliability is governed by protocols, like TCP/IP.  The Internet Protocol (IP) is a set of communication protocols that allow for communication on the internet and most commercial networks.  The Transmission Control Protocol (TCP) is a core part of IP, and allows clients and servers to create connections to one another and exchange data in &#8220;packets.&#8221; Protocol guarantees reliable and in-order delivery of data from sender to receiver.<br /><br />With a distributed system, there can be many types of servers, and <em>service</em> is a term that refers to a set of servers of a particular type.  &#8220;Binding&#8221; is when a process that needs to access a service becomes associated with a particular server which provides the service.  Programs which which server to associate with through binding policies.  For example, someone looking for certain information on a database may be connected to a server which is closest to them geographically, so that access is faster, or he or she may be connected to a database which has the least number of people presently accessing it.<br /><br />To keep things reliable, a distributed service may keep multiple copies of data so you can still access it if something goes wrong.  To keep things going fast, a distributed service may <em>cache</em> data, which is when it makes copies of the data and keeps a copy of it locally, so the data can be accessed quickly the next time it&#8217;s wanted.  <br /><br /><br /><span class="sig">More about TCP/IP</span><br />The IP &#8220;suite&#8221; can be viewed as a set of layers, in which each layer uses the functions of the layers below it and gives functionality to the layer above it.  The lower layers are typically implemented in hardware, whereas the higher layers are implemented in software.<br /><br />The layers:<br /><ol><li>Application layer: is used by most programs that require netwrok communication.  The program gives data to this layer of protocol, and then encapsulated in a transport layer protocol.  Examples of applications that use this layer: HTTP, FTP. </li><li>Transport layer: is responsible for end-to-end message transfer, along with error control, fragmentation, and flow control.  End-to-end message transmission can be categorized as <em>connection-oriented</em> (TCP) or <em>connectionless</em> (UDP), with TCP being the more sophisticated and reliable.<br /></li><ul><li>TCP works by: first, ensuring the receiving computer is ready to accept data by using a &#8220;three-packet handshake&#8221; in which the sender and receiver agree they&#8217;re ready to communicate.  Then, TCP makes sure data gets to its destination.  If the receiver doesn&#8217;t acknowledge a packet of the data, TCP will automatically transmit the packet three times, and also split the large packet into smaller ones if needed so that the data can travel more reliably.  TCP will also drop duplicate packets and rearrange the ones that arrive out of sequence.</li><li>Note for self: What&#8217;s the relationship between this and torrenting something?  Also, I understand that TCP is a protocol, which means that it&#8217;s a &#8220;formal description,&#8221; so what&#8217;s with this &#8220;TCP making sure data reaches&#8221; and &#8220;TCP automatically transmitting&#8221; stuff as if it&#8217;s a program which does something?</li></ul><li>Network layer: solves the problem of getting packets across a single network, or, getting packets from one network to another network by moving the packet across a network of networks, i.e. the Internets.  IP performs the basic task of getting packets of data from source to destination.</li><li>Link layer: deals with the physical transmission of data, i.e. placing frame headers and trailers on packets for travelling over the physical network, and dealing with physical components.</li></ol><br /><br /><span class="sig">Remote Procedure Calls (RPCs)</span><br />A remote procedure call (RPC) is another method besides TCP/IP that clients can use to interact with servers.  It&#8217;s based off the idea that the procedure that a client wants to use may not be in the same &#8220;address space,&#8221; i.e. the procedure is off on a different system with a network connecting them.<br /><br />So, when an RCP is made, the arguments are passed to a remote procedure and the caller waits for a response or a timeout.  Each incoming request to a server usually spawns a new thread, and a thread in the client issues an RPC and then waits, and resumes execution when it receives a reply.<br /><br />RPC-based code needs to do three things:<br /><ol><li>Specify the protocol for client-server communication</li><ul><li>The protocol is created by <em>stubs</em>, which are generated by a protocol compiler.  A stub is a routine that doesn&#8217;t do much other than to declare itself and the parameters it accepts &#8211; just enough to allow it to be compiled and linked.</li></ul><li>Develop the client program, which will call the remote procedure, pass it the required data, and receive returned data</li><li>Develop the server program, which will register the procedures that may be called by a client, and receive/return data required for processing.</li></ol><br />So, an RPC application uses classes made by the stub generator to execute an RPC, and then wait for it to finish.<br /><br />Some errors that may happen in RPC programming are binding errors, which will happen when a server isn&#8217;t running when a client is started); or version mismatches, if a client compiled against an outdated version of the server.  Timeouts will occur in the case of a server crash, network problem, or client computer problem.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/_SdPKamJbrgg/TSN28QczM5I/AAAAAAAAADc/gDZxppbry4c/s1600/DSC_1015.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="240" src="http://2.bp.blogspot.com/_SdPKamJbrgg/TSN28QczM5I/AAAAAAAAADc/gDZxppbry4c/s320/DSC_1015.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">(<a href="http://sisinmaru.blog17.fc2.com/blog-entry-47.html">source</a>)</td></tr></tbody></table><br />Sources:<br /><a href="http://code.google.com/edu/parallel/dsd-tutorial.html">Google: Introduction to Distributed System Design</a><br />Lecture notes</div>
</div>
  
  
  <div class="category-bit">Categories: 

<span class="categories">
  
    <a class='category' href='/blog/categories/compsci/'>compsci</a>, <a class='category' href='/blog/categories/distributed-systems/'>distributed systems</a>, <a class='category' href='/blog/categories/notes/'>notes</a>
  
</span>

</a>


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/04/green-tea-cupcakes/">Green Tea Cupcakes</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-04T00:00:00-08:00" pubdate data-updated="true">Jan 4<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/_SdPKamJbrgg/TSNlnVx-gAI/AAAAAAAAADA/BHAAV2qvsCc/s1600/DSC_0334_2.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="424" src="http://2.bp.blogspot.com/_SdPKamJbrgg/TSNlnVx-gAI/AAAAAAAAADA/BHAAV2qvsCc/s640/DSC_0334_2.jpg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">mmmmm (pic by heatherchan)</td></tr></tbody></table><br />Yesterday Heatherchan came over and we made green tea cupcakes! <span class="shh">Also personally known to me as my cupcakes of revenge.</span> <em>Matcha</em> (抹茶) or green tea is a lovely/bitter powdered substance.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/_SdPKamJbrgg/TSNoBFDqhRI/AAAAAAAAADM/K56Ce_KrZjM/s1600/DSC_0326_2.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="424" src="http://2.bp.blogspot.com/_SdPKamJbrgg/TSNoBFDqhRI/AAAAAAAAADM/K56Ce_KrZjM/s640/DSC_0326_2.jpg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">i got this matcha from the internet somewhere<br />(pic by heatherchan)</td></tr></tbody></table><br />The cupcakes that I&#8217;ve made with green tea have the matcha flavor without too much bitterness.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/_SdPKamJbrgg/TSNomdIq9hI/AAAAAAAAADQ/Uk9ctDoNDwg/s1600/DSC_0322_2.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="424" src="http://2.bp.blogspot.com/_SdPKamJbrgg/TSNomdIq9hI/AAAAAAAAADQ/Uk9ctDoNDwg/s640/DSC_0322_2.jpg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">warm, not-too-sweet revenge<br />(pic by heatherchan)</td></tr></tbody></table><br />I altered/took the recipe from Taken/altered from a recipe <a href="http://www.eatmedelicious.com/2007/07/matcha-green-tea-cupcakes.html">here</a>.  It makes a batch of about <strong>24 cupcakes</strong>:<br /><br /><br /><strong>Ingredients</strong><br /><ul><li>1 cup (2 sticks) unsalted butter, room temperature</li><li>1 3/4 cups sugar</li><li>2 large eggs</li><li>2 large egg whites</li><li>3 cups all-purpose flour</li><li>2 teaspoons baking powder</li><li>1/8 teaspoon salt</li><li>1 cup milk</li><li>2 tablespoons matcha</li></ul><br /><strong>Instructions</strong><br /><ol><li>Preheat oven to 350 degrees.</li><li>If you&#8217;ve got your roommate&#8217;s plastic-rubber cupcake things, you&#8217;re all set.  Else, prepare paper cupcake things by spraying with butter stuff&#8230;I guess.  (This recipe apparently also makes a cake, so you could butter up a 1/2 pan.)</li><li>Put the butter in a mixing bowl.  Grab some object from your roommate that looks like it could suffice for mixing.  (I use a cake icing spreader, but a spatula will probably work too.) Sit down on the ground, set the bowl between your thighs, and beat furiously.  You could think about that ex-whatever that you had <span class="shh"><strike>(but avoid thinking about how green tea is his favorite flavor&#8230;oh)</strike></span>.  At the end, the butter should be kind of whippy.</li><li>Add sugar.  Repeat the between-legs beating thing.  The mixture should be light and fluffy and could possibly be on your pants and the cuff of your shirt.</li><li>Beat two eggs with a fork and add it to the mixture.  Walk around the kitchen if you want.  Skip some songs on your iPod until you have something sort of fast-paced. (Last Alliance&#8217;s &#8220;Katahiza no Yogore&#8221; is good.) By now your arm might be getting kind of tired.  Don&#8217;t worry.  Just keep thinking about green tea cupcakes.</li><li>Separate the whites from another two eggs, beat the whites with a fork, and add, and mix until&#8230;everything&#8217;s all mixed together.  <strong>Optional:</strong> You might accidentally allow the yolk to bleed into the whites.  This is (probably) okay.  Add it anyway.  <strong>Extra note:</strong> The initial recipe actually called for two yolks, but I read it as &#8220;whites&#8221; somehow, so&#8230;well&#8230;by the time of this writing I&#8217;ve actually made this recipe a couple of times, and it worked both ways, pretty much. <strong>Also:</strong> Save the yolks for breakfast tomorrow!</li><li><strike>Whisk</strike> Grab another fork and another bowl and mix together flour, baking powder, and salt in a bowl.  Add to batter and mix to combine.</li><li>Mix matcha in with the milk. Add to the batter and mix until combine.</li><li>Pour into cupcake things, about 3/4 of the way up.</li><li>Bake for 22-25 minutes until a cake tester comes out clean.</li><li>Remove from baking pans and then put something on them.  My favorite topping is cream cheese icing, but this time around we only put more green tea, which had the unfortunate side-effect of making the cupcakes look ominously moldy.</li><li>Set on a plate and offer to your roommates.  Take a bunch of pictures, pour out some sake, and consume~</li></ol><br /><strong>Notes:</strong><br />The green tea flavor in the cake is pretty subtle, so if you like matcha then you could probably get away with adding more.  I&#8217;ve tried using a matcha/sugar composite that I found in a store somewhere, but also powdered matcha itself, and they were both pretty good.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/_SdPKamJbrgg/TSNrH_qbC7I/AAAAAAAAADY/NvZNYUUkNfQ/s1600/green+tea+cut.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="424" src="http://4.bp.blogspot.com/_SdPKamJbrgg/TSNrH_qbC7I/AAAAAAAAADY/NvZNYUUkNfQ/s640/green+tea+cut.jpg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">cupcake made with pure matcha</td></tr></tbody></table><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/_SdPKamJbrgg/TSNrGLccecI/AAAAAAAAADU/_pdrQWkdIgI/s1600/green+tea.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="424" src="http://2.bp.blogspot.com/_SdPKamJbrgg/TSNrGLccecI/AAAAAAAAADU/_pdrQWkdIgI/s640/green+tea.jpg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">cupcake with matcha/sugar mix</td></tr></tbody></table></div>
</div>
  
  
  <div class="category-bit">Categories: 

<span class="categories">
  
    <a class='category' href='/blog/categories/baking/'>baking</a>, <a class='category' href='/blog/categories/food/'>food</a>, <a class='category' href='/blog/categories/lol/'>lol</a>, <a class='category' href='/blog/categories/photo/'>photo</a>, <a class='category' href='/blog/categories/recipe/'>recipe</a>
  
</span>

</a>


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/28/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/26/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About</h1>
  I&#8217;m Nadine. I like various things.  
</section>
<section>
  <h1>Other Places</h1>
  <ul>
    <li><a href="http://uxunicorn.com">Portfolio</a></li>
    <li><a href="http://neauro.tumblr.com">Tumblr</a></li>
    <li><a href="http://github.com/neauro">Github</a></li>
    </li>
  </ul>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - nadine a. -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
